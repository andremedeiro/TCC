CASO DE USO

@startuml

Responsavel as r

Administrador as adm

usecase "Retirar Chave" as retirar
usecase "Devolver Chave" as devolver
usecase "Buscar Chave" as buscar
usecase "Chave no Local" as local

r -- retirar
r -- devolver

retirar <.. local :<<extends>>
devolver ..> buscar :<<includes>>



adm --- (Cadastrar Chave)
adm --- (Cadastrar Responsavel)
adm -- (Remover Chave)
adm --- (Remover Responsavel)
adm -- (Cadastrar Memorando)
adm --- (Remover Memorando)
adm --- (Permitir uso da sala)


@enduml

DIAGRAMA DE CLASSES

class Sistema {
    string matricula_administrador
    string senha

    gerar_matricula()
    criar_tabela()
    inserir()
    alterar_senha()
    alterar_matricula_admin()
    hora_atual()
    data_atual()
    cadastrar_chave(local)
    cadastrar_usuario(nome, matricula, tipo)
    cadastrar_memorando(professor, lista_alunos, local, inicio, encerramento)
    retirar_chave(local, usuario, data_retirada, hora_retirada)
    devolver_chave(local, usuario, data_entrega, hora_entrega)
    buscar_usuario(matricula)
    buscar_chave(local)
    buscar_chave_circulacao(local)
    busca_autorizacao(matricula, local)
    remover_chave(local)
    remover_usuario(matricula)
    listar_chaves()
    listar_usuarios()
    memorandos_validos()
    chaves_em_circulacao()
    menu_usuario(usuario)
    menu_administrador()
}


class Usuario {
    string nome
    string matricula
    string tipo
    
}

class UsuarioDAO {

    criar_tabela()
    insere_usuario(nome, matricula, tipo)
    remove_usuario(matricula)
    listar_usuarios()
    buscar_usuario(matricula)
    retorna_objeto(tupla)

}


class Chave {
    string local
    string data_retirada
    string horario_saida
    string usuario_retirada
    string data_entrega
    string horario_entrega
    string usuario_entrega
 
}


class ChaveDAO {
    
    criar_tabela()
    insere_chave(local)
    retira_chave(local, usuario, data_retirada, hora_retirada)
    devolve_chave(local, usuario, data_entrega, hora_entraga)
    listar_chaves()
    buscar_chave(local)
    buscar_chave_circulacao(local)
    remover_chave(local)
    chaves_em_circulacao()
    retorna_objeto(tupla)
}

class Memorando {
    string professor
    list<Usuario> alunos
    string local
    string inicio
    string encerramento
    string situacao
    
    ajeita_data(data)
    
}

class MemorandoDAO {
    
    criar_tabela()
    ajeitar_situacoes()
    insere_memorando(professor, aluno, local, inicio,
    encerramento)
    busca_autorizacao(matricula, local)
    listar_memorando()
    memorando_validos()
    retorna_objeto(tupla)

}


Chave "N"-up->"1" Sistema
Usuario "N"-up->"1" Sistema
Memorando "N"-up->"1" Sistema

ChaveDAO "1"-up->"1" Sistema
UsuarioDAO "1"-up->"1" Sistema
MemorandoDAO "1"-up->"1" Sistema

ChaveDAO "1"-down-"N" Chave
UsuarioDAO "1"-down-"N" Usuario
MemorandoDAO "1"-down-"N" Memorando

@enduml

DIAGRAMAS DE SEQUENCIAS

DEVOLVER CHAVE

@startuml

participant Usuario as usu
participant Sistema as sis
participant ChaveDAO as dao

[-> usu:Devolver Chave
usu -> sis : devolver_chave()
sis -> dao : busca_chave()
dao --> sis : Retorna Chave
sis --> usu : Autoriza Devolução


@enduml

RETIRAR CHAVE

@startuml

participant Usuario as usu
participant Sistema as sis
participant ChaveDAO as dao

[-> usu: Retirar Chave
usu -> sis : retirar_chave()
sis -> dao : busca_chave()
dao --> sis : Retorna Chave
sis -> sis : Analisa_usuario()
sis --> usu : Autoriza Retirada


@enduml

CADASTRAR USUARIO

@startuml

participant Usuário as usu
participant Sistema as sis
participant UsuarioDAO as dao

[-> usu: Cadastrar Usuario
usu -> sis: Cadastrar_Usuario()
sis -> dao: Buscar_Usuario()
dao --> sis: Resultado da busca
sis --> usu: Usuario Cadastrado

@enduml


CADASTRAR CHAVE

@startuml

participant Usuário as usu
participant Sistema as sis
participant ChaveDAO as dao

[-> usu: Cadastrar Chave
usu -> sis: Cadastrar_Chave()
sis -> dao: Buscar_Chave()
dao --> sis: Resultado da busca
sis --> usu: Chave Cadastrada

@enduml
